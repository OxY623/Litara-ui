var e=Object.defineProperty,r=Object.defineProperties,a=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,o=(r,a,s)=>a in r?e(r,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[a]=s,i=(e,r)=>{for(var a in r||(r={}))t.call(r,a)&&o(e,a,r[a]);if(s)for(var a of s(r))n.call(r,a)&&o(e,a,r[a]);return e};import{r as l,J as m,K as d,j as p,B as u,T as c,C as g,b as f,M as j}from"./index-BnhGmwnk.js";import{u as x}from"./createSvgIcon-TnKg1dvb.js";import{C as b,A as h}from"./Container-CeRawMxl.js";import{T as y}from"./TextField-BMM9qvp_.js";import"./vendor-_g6xLlVr.js";import"./useThemeProps-CpAc3TNq.js";const v=j`
  mutation signUp($username: String!, $email: String!, $password: String!) {
    signUp(username: $username, email: $email, password: $password)
  }
`;function w(){const[e,s]=l.useState({username:"",email:"",password:""}),t=m(),n=d(),[o,{loading:j,error:w}]=x(v,{onCompleted:e=>{console.log("Sign up successful:",e),localStorage.setItem("token",e.signUp),t.writeData({data:{isLoggedIn:!0}}),n.navigate("/")},onError:e=>{console.error("Error during sign up:",e)}});l.useEffect(()=>{document.title="Sign Up - OranNote"},[]);const S=t=>{var n,o;s((n=i({},e),o={[t.target.name]:t.target.value},r(n,a(o))))};return p.jsx(b,{maxWidth:"sm",children:p.jsxs(u,{sx:{border:"1px solid",borderColor:"secondary.main",borderRadius:2,p:4,mt:6},children:[p.jsx(c,{variant:"h5",component:"h2",gutterBottom:!0,className:"text-violet-500",children:"Sign Up"}),p.jsxs("form",{onSubmit:r=>{r.preventDefault(),o({variables:i({},e)})},children:[p.jsx(y,{fullWidth:!0,margin:"normal",label:"Username",name:"username",value:e.username,onChange:S,required:!0}),p.jsx(y,{fullWidth:!0,margin:"normal",label:"Email",name:"email",type:"email",value:e.email,onChange:S,required:!0}),p.jsx(y,{fullWidth:!0,margin:"normal",label:"Password",name:"password",type:"password",value:e.password,onChange:S,required:!0}),j&&p.jsx(u,{sx:{display:"flex",justifyContent:"center",my:2},children:p.jsx(g,{})}),w&&p.jsx(h,{severity:"error",sx:{my:2},children:"Error :( Please try again"}),p.jsx(f,{fullWidth:!0,variant:"contained",color:"secondary",type:"submit",sx:{mt:2},children:"Sign Up"})]})]})})}export{w as default};
